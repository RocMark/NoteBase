# 3/16 備忘錄

//! Keep GO On  把 JS jQuery比較完成

# 大綱
//? High Order Function
- TextArea Tips
- Pug Note
- Sass List / Map

# Daily Note (要看)
//* 避免使用 sass @extend 
> 造成CSS肥大 (Class聚集被寫在一起)

# TextArea
// ?  textarea(placeholder="123") 預設值打這
// ! textarea 常見Bug
```pug
    textarea(placeholder="123") 此處有空白會造成placeholder無效
    //* 因為會把該空白當成預設值
```

# Pug Note
```pug
    ul
        each item in ["A","B","C"]
            li 
                span
                | #{item}    //! 切記 PUG 變數使用 # 
            li: a(href="#")
```

# High-Order-Function 總覽
> 皆不會去修改陣列內容 immutable
> 可以另創一陣列，存取結果

//? forEach() 用於遍歷每個元素
//! map() 遍歷進行運算，得新陣列
//* filter() 取出回傳值為 true者，建立新陣列

# reduce 介紹
> reduce 遍歷，依序組合、加總然後丟給下個元素
=> 可進行 累加、累乘的動作

//? 將陣列化為單一值時使用
> => 用於陣列內容全部統整的時候 

# immutable (From MDN)
> Array.prototype 底下的這些高階函式
//? 大多都具不會去改變資料來源本身原有的值的特性

# forEach()
```js
    //* 基礎用法
    elems.forEach((elem) => {
        console.log(elem)
    })

    //* with Index
    function testArr(elem, index, array) {
        console.log(`第${index}個為${elem}`)
    }
    // index 2 被跳過 因為該處無item
    [2, 5, , 9].forEach(testArr)
    // log結果 a[0] = 2 // a[1] = 5 // a[3] = 9
```

# map() filter() 合併範例
```js
    let testArr = [1, 2, 3]
    const checkNum = elem => elem >= 2
    // 存取新陣列
    let newArr = testArr
        // filter 將 符合運算數的值
        .filter(checkNum)
        // .filter(val => val >= 2) //*等同於此
        // 將數值*2 
        .map(val => val * 2)
    console.log(newArr) // [4,6]
```

# reduce()
> 下方範例可得其過程為
```
    1ST: 
        Sum is 0  //* Function尾的初始值 0
        Elem is 1 //* 第一個元素
        0 + 1     //* 首次運算
    2ND: 
        Sum is 1  //* 1 + 0 得解
        Elem is 2 //* 第二個元素
        1 + 2     //* 第二次運算
    3RD:
        Sum is 3  //* 1 + 2 得解
        Elem is 3 //* 第三個元素
        3 + 3     //* 無下一元素，回傳該結果為 6 
```

```js
    let arr = [1, 2, 3]
    let totalNum = arr
        .reduce((sum, elem) => {
            console.log(`Sum is ${sum}`)
            console.log(`Elem is ${elem}`)
            return sum + elem
        }, 0) //! 初始值
    console.log(totalNum) 6 
```

# Sass List / Map
//! 從1開始
List 等同於 Array(無鍵值) 
Map(有鍵值)
```css
    $color: #000, #FFF, #ABC
    $index: 3 //* 也可傳入索引變數  */
    p{
        color: nth($color, 2)
        background: nth($color, $index) 
    }
```
```css
    $linkColor: (default: #000, hover: #eee, active: #8e8e8e)
    $status: hover //*亦可傳入鍵值名*/
    a{
        color: map-get($linkColor, default)
    }
    a:hover{
        color: map-get($linkColor, $status)
    }
```


# JS Get ScrollPos
```js
    let scrollPos = window.scrollY || window.scrollTop || document.getElementsByTagName('html')[0].scrollTop
    window.addEV('scorll',func)
```

# innerHTML / outerHTML
innerHTML 不含本身Tag
outerHTML 含本身

# Sass calc(100vh - 10px)
//! sass 無法將vh vw 與其他單位作計算
> 因為 sass只是做編譯，無法偵測到當前view height
> 必須經由 JS去作 取得 vh - px
> 實作範例
```js
    let slideShow = document.querySelector('.slideShow')
    let nav = document.querySelector('nav')
    let navH = window.getComputedStyle(nav).getPropertyValue('height').replace(/[^-\d\.]/g, '')
    let slideShowH = window.innerHeight - navH
    slideShow.style.height = `${slideShowH}px`
```

# 取得 CSS Style Value  //!重要
> regex排除非數字的部分
```js
    window.getComputedStyle(nav).getPropertyValue('height').replace(/[^-\d\.]/g, '')
    // 可以藉由此行 regex 排除任何非數字的
    //? .replace(/[^-\d\.]/g, '')
```

# transform 屬性取值
> 瀏覽器會自動換算成 matrix
> 要單純取到 transform: translateX 非常困難